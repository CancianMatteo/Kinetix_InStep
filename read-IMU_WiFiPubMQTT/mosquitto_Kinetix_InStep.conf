# Mosquitto MQTT Broker Configuration: This configuration supports both SSL (port 8883) and standard (port 1883) connections

# TODO Note for production use:
# 1. Generate proper SSL certificates
# 2. Configure authentication
# 3. Set up proper access control
# 4. Enable certificate validation

# Standard MQTT port
listener 1883
protocol mqtt
allow_anonymous true

# SSL/TLS MQTT port
listener 8883
protocol mqtt
allow_anonymous true

# SSL Certificate files (you need to generate these)
# cafile /path/to/ca.crt
# certfile /path/to/server.crt
# keyfile /path/to/server.key

# For testing with self-signed certificates, you can use:
# require_certificate false
# use_identity_as_username false

# Logging
log_dest file /var/log/mosquitto/mosquitto.log
log_type error
log_type warning
log_type notice
log_type information
log_type debug

# Persistence
persistence true
persistence_location /var/lib/mosquitto/

# Security settings
max_connections 100
max_inflight_messages 10
max_queued_messages 100

# Message size limit (for large IMU payloads)
message_size_limit 100000
